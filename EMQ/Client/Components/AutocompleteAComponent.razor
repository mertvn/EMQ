@using Microsoft.AspNetCore.SignalR.Client
@using Microsoft.Extensions.Logging
@using EMQ.Shared.Library.Entities.Concrete
@inject HttpClient _client
@inject ILogger<AutocompleteAComponent> _logger

@* todo update guess on guess phase end even if enter is not pressed *@

<Autocomplete @ref="AutocompleteComponent"
              @onkeypress="Onkeypress"
              TItem="AutocompleteA"
              TValue="AutocompleteA"
              Data="@CurrentDataSource"
              ReadData="@OnHandleReadData"
              TextField="@((item) => $"{item.AALatinAlias}" + (!string.IsNullOrWhiteSpace(item.AANonLatinAlias) ? $" ({item.AANonLatinAlias})" : ""))"
              ValueField="@((item) => item)"
              Placeholder="@Placeholder"
              FreeTyping="@FreeTyping"
              MinLength="1"
              Debounce="true"
              DebounceInterval="20"
              MaxMenuHeight="340px"
              AutoPreSelect="false"
              AutoSelectFirstItem="false"
              CustomFilter="CustomFilter"
              SelectedValueChanged="SelectedValueChanged"
              Disabled="@IsDisabled">
</Autocomplete>

@if (IsQuizPage)
{
    <span style="word-wrap: anywhere">Guess: @Guess</span>
}
